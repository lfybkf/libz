<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE ROOT [ 
	<!ELEMENT ROOT (Machine+)>
	<!ELEMENT Machine (Comment*, State+, Transition+, Push+, Check*, Act*, Device*)>
		<!ATTLIST Machine Name ID #REQUIRED>
		<!ATTLIST Machine Info CDATA #IMPLIED>
	<!ELEMENT State (Comment*)>
		<!ATTLIST State Name ID #REQUIRED>
		<!ATTLIST State Enter CDATA #IMPLIED>
		<!ATTLIST State Exit CDATA #IMPLIED>
		<!ATTLIST State Info CDATA #IMPLIED>
	<!ELEMENT Transition (Comment*)>
		<!ATTLIST Transition From CDATA #REQUIRED>
		<!ATTLIST Transition To CDATA #REQUIRED>
		<!ATTLIST Transition Pushes CDATA #REQUIRED>
		<!ATTLIST Transition Checks CDATA #IMPLIED>
		<!ATTLIST Transition Acts CDATA #IMPLIED>
		<!ATTLIST Transition Info CDATA #IMPLIED>
	<!ELEMENT Check (Comment*)>
		<!ATTLIST Check Name ID #REQUIRED>
		<!ATTLIST Check Info CDATA #IMPLIED>
		<!ATTLIST Check Device CDATA #IMPLIED>
		<!ATTLIST Check Test CDATA #IMPLIED>
	<!ELEMENT Act (Comment*)>
		<!ATTLIST Act Name ID #REQUIRED>
		<!ATTLIST Act Info CDATA #IMPLIED>
		<!ATTLIST Act Device CDATA #IMPLIED>
		<!ATTLIST Act Change CDATA #IMPLIED>
	<!ELEMENT Push (Comment*)>
		<!ATTLIST Push Name ID #REQUIRED>
		<!ATTLIST Push Info CDATA #IMPLIED>
	<!ELEMENT Device (Comment*)>
		<!ATTLIST Device Name ID #REQUIRED>
		<!ATTLIST Device Type CDATA #REQUIRED>
		<!ATTLIST Device Getter CDATA #IMPLIED>
		<!ATTLIST Device Info CDATA #IMPLIED>
	<!ELEMENT Comment (#PCDATA)>
		<!ATTLIST Comment Author CDATA #REQUIRED>
]>

<ROOT>
	<Machine Name="Dialog" Info="Show dialog">
		<Comment Author="me">Диалог с пользователем</Comment>
		<State Name="First" Info="first status"><Comment Author="me">bugaga</Comment></State>
		<State Name="Last" Info="las status" />
		<State Name="Midst" Enter="DoOne" Info="las status" />
		<Transition From="First" To="Last" Info="one trans" 
								Pushes="Start"
								Checks="IsAllGood IsUserHasRights"
								Acts="Make"
								/>
		<Transition From="Midst" To="Last" Pushes="Finish" Acts="DoOne" />
		<Push Name="Start" />
		<Push Name="Finish" />
		<Check Name="IsUserHasRights" Device="dev1" Test="IsOK" Info="test user rights" />
		<Check Name="IsAllGood" Device="dev2" Test="IsCorrect" />
		<Check Name="IsDev2" Device="dev2" />
		<Check Name="IsFunc" />
		<Act Name="Make" Device="dev2" Change="Offline()">
			<Comment Author="me">Big brown fox</Comment>
		</Act>
		<Act Name="DoOne"  />
		<Act Name="DoOne2" />
		<Device Name="dev1" Type="Dev1" Getter="new Type()" Info="some dev1" />
		<Device Name="dev2" Type="Dev2" Getter="new Type()" Info="some dev2" />
		<Device Name="dev3" Type="Dev2" Getter="Type.Instance" Info="another dev2" />
	</Machine>
</ROOT>

